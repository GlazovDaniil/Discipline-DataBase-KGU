# Discipline-DataBase-KGU
All  laboratory work for the 5th semester

**Все лабораторные работы по дисциплине базы данных за 5 семестр, а так же курсовая работа на тему: __«Проектирование и реализация базы данных для формирования фискального чека в магазине»__**

# Тема курсового проекта:
## Проектирование и реализация реляционной базы банных для <выбранная предметная область>

Например: "Проектирование и реализация реляционной БД для системы учета розничных продаж".

## **Цель курсового проекта:**
Получение  навыков выполнения проектных процедур при создании реляционных баз данных; получение навыков работы с БД, функционирующей в рамках архитектуры  "клиент-сервер".

## **Требования к содержанию и выполнению курсового проекта:**

**1. Проектирование БД:** можно использовать любой способ проектирования (ERD, нормализацию или их сочетание).

**2. Минимальное количество объектов в реализованной БД** (при индивидуальном выполнении): 
  - **БАЗОВЫE** таблицы (не учитываются справочники и таблицы связи) - min 5; 
  - декларативные ограничения целостности - min 5; 
  - процедурные ограничения целостности - min 2; 
  - хранимые процедуры, обеспечивающие операции над данными - min 2; 
  - хранимые процедуры, обеспечивающие выполнение аналитических запросов - min 5 запросов.
  
**3.** Пользовательское приложение: по желанию. Приложение должно реализовывать только пользовательский интерфейс и для работы с данными использовать объекты, хранящиеся на сервере БД.

**4. Сервер БД**: любой.

**5. Выполнение в командах:** максимум 2 студента (минимальные требования пропорционально увеличиваются).

**6. ВАЖНО!! Аналитические запросы** должны вычислять значения на основе множества данных в таблицах. Результаты этих запросов должны обеспечивать возможность принятия решения, построения диаграммы, графика и т.д. **Пример формулировки**: "Определить изменение количества продаж заданного товара по дням недели за указанный интервал времени"

## **__Общие правила:__**

**1. ВАЖНО!!** Курсовой проект - это **самостоятельная работа студента** по выбранной теме в соответствии с программой дисциплины. 

**2. Задания в СДО** в разделе "Курсовое проектирование" **соответствуют этапам выполнения работы** и разделам пояснительной записки. 

**3. Своевременная загрузка** результатов выполнения проекта в СДО позволит вам получить **оценку процента /правильности выполнения** этапа работы. После этого вы можете задать интересующие вас **вопросы на консультации**.

**4. Консультации проводятся еженедельно.** Информация - в объявлениях на форуме вашего потока. 

**5.** По содержанию разделов КП: см. методические указания по курсовому проектированию по дисциплине Управление данными (можно взять на кафедре).

**6.** Для каждого этапа работы **должен быть представлен основной результат этапа** (таблицы, диаграммы, схемы, скриншоты, код SQL, результаты выполнения запросов и т.д.) **и все необходимые пояснения.**

**7. При исправлении работы** в соответствии со сделанными преподавателем замечаниями необходимо предоставить список внесенных изменений.

**8.** Поскольку этапы выполнения работы тесно связаны между собой, при загрузке очередных результатов используйте формат накопительного отчета (новый раздел и все предыдущие в одном документе). Таким образом, на последнем этапе вы получите готовую пояснительную записку.

**9.** Защиты КП проводятся по графику. Информация в соответствующем разделе СДО.




# Язык SQL (5 семестр)

**__Обзор лабораторных работ__**

## **__Лабораторная работа №1. Список выборки. Условия__**

### **Задание:**

Для созданной вами БД __(л.р. №7 предыдущего семестра)__ составить не менее шести SQL-запросов, иллюстрирующих использование в инструкции SELECT разных элементов списка выборки и различных вариантов условных выражений.

### **Условия выполнения:**

Источник данных каждого запроса - одна таблица. Соединения, группировка, сортировка - не используются.



## **__Лабораторная работа №2. FROM__**
### **Задание:**

**Составить SQL-запрос:**

   **- БД "Аттестация"**: для каждого направления и каждого преподавателя вывести информацию о том, принимал ли  данный преподаватель экзамены/зачеты у студентов данного направления.
   
   
   
## **__Лабораторная работа №3. GROUP BY__**

### **Задание:**

**Составить SQL-запрос:**
   **- БД "Аттестация"**: Для заданной группы вывести список студентов, являющихся претендентами на красный диплом: нет задолженностей, средний балл >=4,75, оценки - только "хорошо" и "отлично". В порядке убывания среднего балла.
   
   
## **__Лабораторная работа №4. СASE__**

### **Задание:**
Составить запрос, вычисляющий произведение элементов числового столбца __(должен работать для положительных, отрицательных, нулевых и NULL-значений)__


##**__Лабораторная работа №5. Подзапросы__**

### **Задание:**
Решить задачи **№ 8, 18, 58** из обучающего раздела сайта **sql-ex.ru**

### **Условия выполнения:**
Использовать подзапросы в решениях __(во фразах WHERE и/или HAVING и/или SELECT)__
**!!!выплнена не по условию задачи**


## **__Лабораторная работа №6. Рел. операции__**

### **Задание:**
Решить задачи  **№ 80, 102, 144** с сайта **sql-ex.ru** (обучающий раздел)

### **Условия выполнения:**
Использовать в решениях __UNION__, __INTERSECT__, __EXCEPT__ и языковые конструкции, позволяющие реализовать операцию реляционного деления.


## **__Лабораторная работа №7. CTE__**

### **Задание:**
Решить  задачи из  **№124, 140** с сайта **sql-ex.ru** (обучающий раздел)

###**Условия выполнения:**
Использовать в решениях __CTE__


## **__Лабораторная работа №8. Оконные функции. Ранжирование__**

### **Задание:**
Решить  задачи из  №№ 65, 82, 125 с сайта sql-ex.ru (обучающий раздел)

### **Условия выполнения:**
Использовать в решениях оконные функции и функции ранжирования


## **__Лабораторная работа №9. DML__**
### **Задание:**
Решить задачи №№ 12, 13, 14 из раздела DML сайта sql-ex.ru


## **__Лабораторная работа №10. Представления__**

### **Задание:**
   - Создать модифицируемое представление (свободное задание). 
   - Создать немодифицируемое представление (ОДНО! см. варианты заданий по группам).
   - Привести примеры использования созданных представлений:
   Добавление и удаление данных через представление, использование представления в качестве источника данных запроса
   
### **Условия выполнения:**
Работа выполняется в рамках основной БД (л.р.№7 предыдущего семестра)

**- БД "Аттестация"**:  Информация об успеваемости по каждой группе: 1)средний балл, 2) количество студентов, имеющих задолженности, 3) количество студентов, сдавших хотя бы один экзамен не с первой попытки.


## **__Лабораторная работа №11. Хранимые процедуры__**

### **Задание:**
Для вашей базы данных (по основному заданию группы) создать хранимую процедуру, реализующую операцию добавления новой записи с проверкой ограничения целостности. Привести примеры вызова процедуры.

### **Условия выполнения:**

**1.** Ограничение целостности выбрать из списка ограничений, сформулированных для вашего проекта (осенний семестр, л.р.№2 - анализ предметной области).

**2.** Процедура должна возвращать значения всеми возможными способами.


## **__Лабораторная работа № 12. Триггеры__**

### **Задание:**

**1.** Из списка  ограничений целостности  вашей предметной области (предыдущий семестр ,л.р.№2 - анализ ПО) выбрать ограничения, которые могут быть реализованы только с помощью триггеров (не менее 3-х ограничений). Определить алгоритм реализации для каждого из них (указать используемую таблицу, событие, на которое должен запускаться триггер, описать последовательность выполняемых действий)

**2.** Создать триггер для одного из ограничений.

**3.** Проиллюстрировать работу триггера на примере выполнения операции DML над таблицей.


## **__Лабораторная работа №13. Дополнительная__**

**Внимание!** данная работа не является обязательной для выполнения,  но учитывается в общем рейтинге дополнительными баллами. 

### **Задание:**

Создать скрипт, выводящий содержимое 10 первых строк каждой  таблицы в БД.

### **Условия выполнения:**

Использовать курсор. 

Должен быть один скрипт, создающий и использующий один курсор, выводящий данные всех таблиц.


## **__Лабораторная работа №14. Индексы__**
### **Задание:**

**1.** В соответствии с общими рекомендациями по созданию индексов создайте необходимые индексы для таблиц, используемых в запросе из л.р.№3.

## **__Лабораторная работа № 15. Оптимизация SQL-запросов__**

### **Задание:**

**1.** Постройте план выполнения для запроса из л.р. №14 при отключенных индексах и оцените производительность запроса.

**2.** Оптимизируйте запрос (изменяя исходный код,  создавая /включая индексы, нужно обеспечить меньшую стоимость запроса). Постройте план выполнения для итогового варианта запроса.

**3.** Сравните планы выполнения п. 1. и п. 2. Объясните, за счет чего достигается увеличение производительности.

**4.** Выполните пошаговое описание плана выполнения запроса из п. 2
